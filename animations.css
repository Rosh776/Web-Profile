document.addEventListener('DOMContentLoaded', () => {
    // Loading screen
    setTimeout(() => {
        document.getElementById('loading').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('loading').style.display = 'none';
        }, 500);
    }, 1000);

    // Initialize animations
    const animateOnScroll = () => {
        const elements = document.querySelectorAll('[data-animate]');
        const windowHeight = window.innerHeight;
        
        elements.forEach(element => {
            const elementPosition = element.getBoundingClientRect().top;
            const elementVisible = 100;
            
            if (elementPosition < windowHeight - elementVisible) {
                element.classList.add('animated');
            }
        });
    };

    // Initialize on load and scroll
    window.addEventListener('load', animateOnScroll);
    window.addEventListener('scroll', animateOnScroll);

    // Enhanced cursor follower
    const cursor = document.querySelector('.cursor-follower');
    let mouseX = 0, mouseY = 0;
    let cursorX = 0, cursorY = 0;
    let isHovering = false;

    document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        
        // Check for hover elements
        isHovering = e.target.closest('a, button, .gallery-item, .feature-card');
    });

    const animateCursor = () => {
        // Smooth follow effect
        cursorX += (mouseX - cursorX) * 0.1;
        cursorY += (mouseY - cursorY) * 0.1;
        
        cursor.style.left = cursorX + 'px';
        cursor.style.top = cursorY + 'px';
        
        // Active state
        if (isHovering) {
            cursor.classList.add('active');
            cursor.style.width = '50px';
            cursor.style.height = '50px';
        } else {
            cursor.classList.remove('active');
            cursor.style.width = '30px';
            cursor.style.height = '30px';
        }
        
        requestAnimationFrame(animateCursor);
    };
    animateCursor();

    // Video scroll control
    const video = document.getElementById('main-video');
    video.addEventListener('loadedmetadata', () => {
        video.currentTime = 0;
        video.muted = true;
        video.play().catch(e => console.log("Autoplay prevented:", e));
    });

    // Add floating animation to random elements
    const floatingElements = document.querySelectorAll('.feature-card, .gallery-item');
    floatingElements.forEach(el => {
        if (Math.random() > 0.7) {
            el.classList.add('floating');
            el.style.animationDelay = `${Math.random() * 2}s`;
        }
    });

    // Add glow animation to signature
    document.querySelector('.signature').classList.add('glow-text');
});
